{"openapi":"3.1.0","info":{"title":"Developer API","description":"A completions and retrieval API for legal research. Use the /completion endpoint to get completions for a prompt, and the /retrieve endpoint to retrieve documents for a prompt.","version":"0.1.0"},"paths":{"/completion":{"post":{"summary":"Completion","description":"Get completion for a prompt.\n\nA completion is a summary of the applicable laws provided in answer to provied prompt.\nThe response will include the prompt, the completion, and the sources used to generate the completion.\n\nIf the `stream` parameter is set to `true`, the response will be a stream of events.","operationId":"completion_completion_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompletionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompletionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/retrieve":{"post":{"summary":"Retrieve","description":"Retrieve chunks of sources documents related to the prompt, including any source metatdata.","operationId":"retrieve_retrieve_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RetrievalRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RetrievalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"CompletionRequest":{"properties":{"prompt":{"type":"string","title":"Prompt"},"stream":{"type":"boolean","title":"Stream","default":false}},"type":"object","required":["prompt"],"title":"CompletionRequest"},"CompletionResponse":{"properties":{"prompt":{"type":"string","title":"Prompt"},"completion":{"type":"string","title":"Completion"},"sources":{"items":{"$ref":"#/components/schemas/Sources"},"type":"array","title":"Sources"}},"type":"object","required":["prompt","completion","sources"],"title":"CompletionResponse"},"Document":{"properties":{"page_content":{"type":"string","title":"Page Content"},"metadata":{"type":"object","title":"Metadata"}},"type":"object","required":["page_content"],"title":"Document","description":"Class for storing a piece of text and associated metadata."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"QueryMetadataResponse":{"properties":{"document_id":{"type":"string","title":"Document Id"},"document_title":{"type":"string","title":"Document Title"},"document_citation":{"type":"string","title":"Document Citation"},"section_id":{"type":"string","title":"Section Id"},"section_title":{"type":"string","title":"Section Title"},"section_citation":{"type":"string","title":"Section Citation"},"instrument":{"type":"string","title":"Instrument"},"instrument_subtype":{"type":"string","title":"Instrument Subtype"},"jurisdiction_id":{"type":"string","title":"Jurisdiction Id"},"jurisdiction":{"type":"string","title":"Jurisdiction"},"country":{"type":"string","title":"Country"},"province":{"type":"string","title":"Province"},"other":{"type":"object","title":"Other"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"source_id":{"type":"string","title":"Source Id"},"id":{"type":"string","title":"Id"},"document_html_url":{"type":"string","title":"Document Html Url"},"document_pdf_url":{"type":"string","title":"Document Pdf Url"},"section_html_url":{"type":"string","title":"Section Html Url"},"section_pdf_url":{"type":"string","title":"Section Pdf Url"}},"type":"object","required":["document_id","instrument","jurisdiction_id","jurisdiction","country","source_id","id"],"title":"QueryMetadataResponse"},"RetrievalRequest":{"properties":{"prompt":{"type":"string","title":"Prompt"}},"type":"object","required":["prompt"],"title":"RetrievalRequest"},"RetrievalResponse":{"properties":{"prompt":{"type":"string","title":"Prompt"},"documents":{"items":{"$ref":"#/components/schemas/Document"},"type":"array","title":"Documents"}},"type":"object","required":["prompt","documents"],"title":"RetrievalResponse"},"Sources":{"properties":{"source_id":{"type":"string","title":"Source Id"},"ids":{"items":{"type":"string"},"type":"array","title":"Ids"},"reference":{"type":"string","title":"Reference"},"metadata":{"$ref":"#/components/schemas/QueryMetadataResponse"}},"type":"object","required":["source_id","ids","metadata"],"title":"Sources"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}